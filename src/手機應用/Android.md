# Android 開發學習筆記

## 裝置的識別碼

開發者在開發 APP 時，若是有跟伺服器資料連接時，常常會為了一些理由，而會設法從裝置中取其識別碼來進行識別之用。

可能可以取得做為識別碼的方式：

* Device ID (IMEI/MEID)
    * Device ID 看得是各地電信商提供什麼系統，若是 GSM 所取出的編碼就是 IMEI；若是 CDMA 取出的就是 MEID 或 ESN。
    * 表面上這應該是設備中最穩定的識別碼，但仍是有諸多 Android 設備是沒有的，像現行有的電視盒或是展場上採用 Android 的設備，可能就是只有 WIFI ，在這種狀況下取出來的值就是 null。
    * 另外，要取得這個值所需要的權限得用到「READ_PHONE_STATE」，這個權限其實頗大的，當使用者在安裝時，就會看到這個 APP 會要到的權限是「讀取手機狀態」，以現在 Android 病毒亂竄的狀況下，使用者會對這個權限是有疑心的，也可能因為這樣就不裝了。
* Subscriber ID
    * 用戶唯一碼，若是 GSM 就是 IMSI 碼；若是使用者沒有插卡，這個值會為 null。而 CDMA 的卡片也取不到值。
    * 和 Device ID 相同，這個權限需要用到「READ_PHONE_STATE」。
* Serial ID
    * 這個識別碼是由不分大小寫的英文字母跟數字所組成。此識別碼對比 Device ID 和 Subscriber ID，它不用任何權限就可以使用，也的確是唯一碼。
    * 但需要在 Android 2.3 以上的設備才能取得，也就是說 APP 若是從 2.3 開始支援，用這個值原則上是沒問題的。
* MAC Address
    * 設備網卡的編碼。這個在沒有 WIFI 的設備仍是取不到；除了前述問題，有可能會因為系統更新、重新設定、重新開機在還未連線的狀況下取不到的資料，所以也要小心。
* Bluetooth Address
    * 藍芽的設備碼。沒有藍芽的設備取不到；
* Android ID
    * 這個 ID 的優點也是不需要任何權限，他是在設備出廠後第一次啟動時產生。
    * 但是在 2.2 以前是不可靠的，曾經有一批設備在出廠後，所產生的編號都是：9774d56d682e549c。
    * 另外還有一個問題，當設備被執行「恢復原廠設定」時，這個 id 會被重新產生。
* UUID
    * 這個 ID 並不是由設備自動產生，是開發者自行寫在 APP 程式中，而且必需是寫在程式一開始就一定會執行到的地方，並立即將之存於設備裡。
    * 最大的缺點就是當 APP 被執行「清除資料」或是移除重裝後的 ID 都會重新產生。因為要存入設備中，所以需要有寫入的權限。

## 參考文章

* [莫希爾(Mosil) 手札](http://blog.mosil.biz/)
